$(document).ready(function(){function a(a,e){$.ajax({url:a,type:"GET",crossDomain:!0,dataType:"jsonp",headers:{"Access-Control-Allow-Origin":"*"},success:function(a){var i="<div class='row labelResults'><strong>Results</strong><br/></div>",r=a.query[e],t="";t="pages"===e?"pageid":"id";for(var n in r)i+="<div class='row'>",i+="<a href='https://en.wikipedia.org/?curid="+r[n][t]+"'  target='_blank'>"+r[n].title+"</a>",i+="pages"===e?"<p>"+r[n].extract+"</p>":"<p>&nbsp;</p>",i+="</div>";$("#results").html(i)},error:function(){alert("Can't stablish Wikipedia connection")}})}$("#qsearch").keyup(function(){var e=$("#qsearch").val(),i="http://en.wikipedia.org/w/api.php?format=json&action=query&generator=search&gsrnamespace=0&gsrlimit=15&prop=pageimages|extracts&pilimit=max&exintro&explaintext&exsentences=1&exlimit=max&gsrsearch="+e,r="pages";a(i,r)}),$("#lnkRandom").click(function(){var e="https://en.wikipedia.org/w/api.php?action=query&list=random&rnlimit=10&rnnamespace=0&format=json",i="random";a(e,i)})});